<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ma.rest.mapper.dao.OrderMapper">
  <resultMap id="BaseResultMap" type="com.ma.rest.base.model.Order" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="order_number" property="orderNumber" jdbcType="VARCHAR" />
    <result column="uid" property="uid" jdbcType="INTEGER" />
    <result column="pay_price" property="payPrice" jdbcType="DECIMAL" />
    <result column="is_pay" property="isPay" jdbcType="VARCHAR" />
    <result column="pay_time" property="payTime" jdbcType="TIMESTAMP" />
    <result column="is_ship" property="isShip" jdbcType="VARCHAR" />
    <result column="ship_time" property="shipTime" jdbcType="TIMESTAMP" />
    <result column="is_receipt" property="isReceipt" jdbcType="VARCHAR" />
    <result column="receipt_time" property="receiptTime" jdbcType="TIMESTAMP" />
    <result column="ship_nmber" property="shipNmber" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
      <result column="invoice_info" property="invoiceInfo" jdbcType="VARCHAR" />
      <result column="goods_otherinfo" property="goodsOtherInfo" jdbcType="VARCHAR" />
      <result column="express_status" property="expressStatus" jdbcType="VARCHAR" />
      <result column="seller_uid" property="sellerUid" jdbcType="INTEGER" />
      <result column="nickname" property="nickname" jdbcType="VARCHAR" />
      <association property="goods" javaType="com.ma.rest.base.model.Goods">
          <id column="goods_id" jdbcType="INTEGER" property="goodsId" />
          <result column="goods_name" jdbcType="VARCHAR" property="goodsName" />
          <result column="goods_title" jdbcType="INTEGER" property="goodsTitle" />
          <result column="amount" jdbcType="VARCHAR" property="amount" />
          <result column="goods_img" jdbcType="VARCHAR" property="goodsImg" />
          <result column="status" jdbcType="VARCHAR" property="status" />
          <result column="category_id" property="categoryId" jdbcType="INTEGER" />
          <result column="price" jdbcType="DECIMAL" property="price" />
          <result column="pic_details" jdbcType="VARCHAR" property="picDetails" />
          <result column="param_details" jdbcType="VARCHAR" property="paramDetails" />
          <result column="discount_price" jdbcType="DECIMAL" property="discountPrice" />
          <result column="member_type" jdbcType="VARCHAR" property="memberType" />
          <result column="is_choice" jdbcType="VARCHAR" property="isChoice" />
          <result column="mod_time" jdbcType="VARCHAR" property="modTime" />
          <result column="add_time" jdbcType="VARCHAR" property="addTime" />
          <result column="goods_number" jdbcType="INTEGER" property="goodsNumber" />
          <association property="maUserInfo" javaType="com.ma.rest.pojo.MaUserInfo">
              <id column="user_id" property="userId" jdbcType="INTEGER" />
              <result column="nickname" property="nickName" jdbcType="VARCHAR" />
              <result column="phone" property="phone" jdbcType="VARCHAR" />
              <result column="head_img" property="headImg" jdbcType="VARCHAR" />
              <result column="user_token" property="userToken" jdbcType="VARCHAR" />
              <result column="reg_time" property="regTime" jdbcType="TIMESTAMP" />
              <result column="last_login_time" property="lastLoginTime" jdbcType="TIMESTAMP" />
              <result column="appVersion" property="appVersion" jdbcType="VARCHAR" />
              <result column="status" property="status" jdbcType="VARCHAR" />
              <result column="back_img" property="backImg" jdbcType="VARCHAR" />
              <result column="category_id" property="categoryId" jdbcType="VARCHAR"/>
              <result column="type" property="type" jdbcType="VARCHAR"/>
              <result column="sign" property="sign" jdbcType="VARCHAR"/>
              <result column="business_introduction" property="businessIntroduction" jdbcType="VARCHAR"/>
          </association>
      </association>
      <association property="address" javaType="com.ma.rest.base.model.Address">
          <id column="address_id" property="addressId" jdbcType="INTEGER" />
          <result column="user_id" property="userId" jdbcType="INTEGER" />
          <result column="province_code" property="provinceCode" jdbcType="VARCHAR" />
          <result column="city_code" property="cityCode" jdbcType="VARCHAR" />
          <result column="area_code" property="areaCode" jdbcType="VARCHAR" />
          <result column="address_details" property="addressDetails" jdbcType="VARCHAR" />
          <result column="is_default" property="isDefault" jdbcType="CHAR" />
          <result column="phone" property="phone" jdbcType="VARCHAR" />
          <result column="linkman" property="linkMan" jdbcType="VARCHAR" />
      </association>
  </resultMap>


    <resultMap id="DetailBaseResultMap" type="com.ma.rest.base.model.Order" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="order_number" property="orderNumber" jdbcType="VARCHAR" />
        <result column="uid" property="uid" jdbcType="INTEGER" />
        <result column="pay_price" property="payPrice" jdbcType="DECIMAL" />
        <result column="is_pay" property="isPay" jdbcType="VARCHAR" />
        <result column="pay_time" property="payTime" jdbcType="TIMESTAMP" />
        <result column="is_ship" property="isShip" jdbcType="VARCHAR" />
        <result column="ship_time" property="shipTime" jdbcType="TIMESTAMP" />
        <result column="is_receipt" property="isReceipt" jdbcType="VARCHAR" />
        <result column="receipt_time" property="receiptTime" jdbcType="TIMESTAMP" />
        <result column="ship_nmber" property="shipNmber" jdbcType="VARCHAR" />
        <result column="status" property="status" jdbcType="VARCHAR" />
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
        <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
        <result column="invoice_info" property="invoiceInfo" jdbcType="VARCHAR" />
        <result column="goods_otherinfo" property="goodsOtherInfo" jdbcType="VARCHAR" />
        <result column="express_status" property="expressStatus" jdbcType="VARCHAR" />
        <result column="goods_number" property="goodsNumber" jdbcType="INTEGER" />
        <association property="address" javaType="com.ma.rest.base.model.Address">
            <id column="address_id" property="addressId" jdbcType="INTEGER" />
            <result column="user_id" property="userId" jdbcType="INTEGER" />
            <result column="province_code" property="provinceCode" jdbcType="VARCHAR" />
            <result column="city_code" property="cityCode" jdbcType="VARCHAR" />
            <result column="area_code" property="areaCode" jdbcType="VARCHAR" />
            <result column="address_details" property="addressDetails" jdbcType="VARCHAR" />
            <result column="is_default" property="isDefault" jdbcType="CHAR" />
            <result column="phone" property="phone" jdbcType="VARCHAR" />
            <result column="linkman" property="linkMan" jdbcType="VARCHAR" />
        </association>

        <association property="goods" javaType="com.ma.rest.base.model.Goods">
            <id column="goods_id" jdbcType="INTEGER" property="goodsId" />
            <result column="goods_name" jdbcType="VARCHAR" property="goodsName" />
            <result column="goods_title" jdbcType="INTEGER" property="goodsTitle" />
            <result column="amount" jdbcType="VARCHAR" property="amount" />
            <result column="goods_img" jdbcType="VARCHAR" property="goodsImg" />
            <result column="status" jdbcType="VARCHAR" property="status" />
            <result column="category_id" property="categoryId" jdbcType="INTEGER" />
            <result column="price" jdbcType="DECIMAL" property="price" />
            <result column="pic_details" jdbcType="VARCHAR" property="picDetails" />
            <result column="param_details" jdbcType="VARCHAR" property="paramDetails" />
            <result column="discount_price" jdbcType="DECIMAL" property="discountPrice" />
            <result column="member_type" jdbcType="VARCHAR" property="memberType" />
            <result column="is_choice" jdbcType="VARCHAR" property="isChoice" />
            <result column="mod_time" jdbcType="VARCHAR" property="modTime" />
            <result column="add_time" jdbcType="VARCHAR" property="addTime" />
            <result column="goods_number" jdbcType="INTEGER" property="goodsNumber" />
            <association property="maUserInfo" javaType="com.ma.rest.pojo.MaUserInfo">
                <id column="user_id" property="userId" jdbcType="INTEGER" />
                <result column="nickname" property="nickName" jdbcType="VARCHAR" />
                <result column="phone" property="phone" jdbcType="VARCHAR" />
                <result column="head_img" property="headImg" jdbcType="VARCHAR" />
                <result column="user_token" property="userToken" jdbcType="VARCHAR" />
                <result column="reg_time" property="regTime" jdbcType="TIMESTAMP" />
                <result column="last_login_time" property="lastLoginTime" jdbcType="TIMESTAMP" />
                <result column="appVersion" property="appVersion" jdbcType="VARCHAR" />
                <result column="status" property="status" jdbcType="VARCHAR" />
                <result column="back_img" property="backImg" jdbcType="VARCHAR" />
                <result column="category_id" property="categoryId" jdbcType="VARCHAR"/>
                <result column="type" property="type" jdbcType="VARCHAR"/>
                <result column="sign" property="sign" jdbcType="VARCHAR"/>
                <result column="business_introduction" property="businessIntroduction" jdbcType="VARCHAR"/>
            </association>
        </association>


    </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, order_number, uid, pay_price, is_pay, pay_time, is_ship, ship_time, is_receipt, 
    receipt_time, ship_nmber, status, create_time, update_time
  </sql>
  <select id="selectByKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from ma_order
    where id = #{id,jdbcType=INTEGER}
  </select>

  <select id="selectByOrderNumber" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from ma_order
    where  order_number= #{orderNumber,jdbcType=INTEGER}
  </select>
    <!--获取用户订单列表-->
    <select id="selectOrderList" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        ord.id, ord.order_number, ord.uid, ord.pay_price, ord.is_pay, ord.pay_time, ord.is_ship, ord.ship_time, ord.is_receipt,
        ord.receipt_time, ord.ship_nmber,ord.status, ord.create_time, ord.update_time,ord.invoice_info,ord.goods_otherinfo,ord.express_status,
        gs.goods_id,
        gs.goods_name,
        gs.goods_title,
        gs.amount,
        gs.goods_img,
        gs.status,
        DATE_FORMAT(gs.add_time,'%Y-%m-%d %H:%i:%s') add_time,
        gs.category_id,
        gs.price,
        gs.pic_details,
        gs.param_details,
        gs.discount_price,
        gs.member_type,
        gs.is_choice,
        rog.goods_number,
        DATE_FORMAT(gs.mod_time,'%Y-%m-%d %H:%i:%s') mod_time,
        ma_user.user_id,
        ma_user.nickname,
        ma_user.phone,
        ma_user.head_img,
        ma_user.user_token,
        ma_user.reg_time,
        ma_user.last_login_time,
        ma_user.appVersion,
        ma_user.status,
        ma_user.back_img,
        ma_user.type,
        ma_user.category_id,
        ma_user.sign,
        ma_user.business_introduction
        from ma_order ord
        left join rel_order_goods rog
        on ord.id=rog.order_id
        left join
        ma_goods gs on gs.goods_id=rog.goods_id
        left JOIN ma_user_info ma_user
        on gs.userId=ma_user.user_id
      <where>
          1=1 and gs.status!=0
        <if test="userId != null" >
          and ord.uid = #{userId,jdbcType=INTEGER}
        </if>
      <if test="status != null" >
          and ord.status = #{status,jdbcType=VARCHAR}
      </if>
      </where>
      order by ord.id desc
      limit #{start},#{rows}
    </select>

    <!--获取商家消费列表-->
    <select id="selectSellerOrderList" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        ord.id, ord.order_number, ord.uid, ord.pay_price, ord.is_pay, ord.pay_time, ord.is_ship, ord.ship_time, ord.is_receipt,
        ord.receipt_time, ord.ship_nmber,ord.status, ord.create_time, ord.update_time,ord.invoice_info,ord.goods_otherinfo,ord.express_status,ord.seller_uid,ma_u.nickname nickname,
        ma.address_id,ma.user_id,ma.province_code,ma.city_code,
        ma.area_code,ma.address_details,ma.is_default,ma.phone,ma.linkman,
        gs.goods_id,
        gs.goods_name,
        gs.goods_title,
        gs.amount,
        gs.goods_img,
        gs.status,
        DATE_FORMAT(gs.add_time,'%Y-%m-%d %H:%i:%s') add_time,
        gs.category_id,
        gs.price,
        gs.pic_details,
        gs.param_details,
        gs.discount_price,
        gs.member_type,
        gs.is_choice,
        rog.goods_number,
        DATE_FORMAT(gs.mod_time,'%Y-%m-%d %H:%i:%s') mod_time,
        ma_user.user_id,
        ma_user.nickname,
        ma_user.phone,
        ma_user.head_img,
        ma_user.user_token,
        ma_user.reg_time,
        ma_user.last_login_time,
        ma_user.appVersion,
        ma_user.status,
        ma_user.back_img,
        ma_user.type,
        ma_user.category_id,
        ma_user.sign,
        ma_user.business_introduction
        from ma_order ord
        left join rel_order_goods rog
        on ord.id=rog.order_id
        left join
        ma_goods gs on gs.goods_id=rog.goods_id
        left JOIN ma_user_info ma_user
        on gs.userId=ma_user.user_id
        left JOIN ma_user_info ma_u
        on ord.uid=ma_user.user_id
        left join ma_address ma
        on ord.address_id=ma.address_id
        <where>
            1=1 and gs.status!=0
            <if test="sellerUid != null" >
                and ord.seller_uid = #{sellerUid,jdbcType=INTEGER}
            </if>
            <if test="beginTime != null and endTime!=null" >
                and ord.create_time between #{beginTime} and #{endTime}
            </if>
        </where>
        order by ord.id desc
        limit #{start},#{rows}
    </select>

    <!--订单详情-->
    <select id="selectOrderDetailById" resultMap="DetailBaseResultMap" parameterType="java.lang.Integer" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        ord.id, ord.order_number, ord.uid, ord.pay_price, ord.is_pay, ord.pay_time, ord.is_ship, ord.ship_time, ord.is_receipt,
        ord.receipt_time, ord.ship_nmber,ord.status, ord.create_time, ord.update_time,ord.invoice_info,ord.goods_otherinfo,ord.express_status,rog.goods_number,
        ma.address_id,ma.province_code,ma.city_code,
        ma.area_code,ma.address_details,ma.is_default,ma.phone,ma.linkman,
        gs.goods_id,
        gs.goods_name,
        gs.goods_title,
        gs.amount,
        gs.goods_img,
        gs.status,
        DATE_FORMAT(gs.add_time,'%Y-%m-%d %H:%i:%s') add_time,
        gs.category_id,
        gs.price,
        gs.pic_details,
        gs.param_details,
        gs.discount_price,
        gs.member_type,
        gs.is_choice,
        ma_user.user_id,
        IFNULL(ma_user.nickname,'') nickname,
        ma_user.phone businessPhone,
        IFNULL(ma_user.head_img,'') head_img,
        ma_user.reg_time,
        ma_user.last_login_time,
        ma_user.appVersion,
        ma_user.back_img,
        ma_user.type,
        ma_user.sign,
        IFNULL(ma_user.business_introduction,'') business_introduction
        from ma_order ord
        left join rel_order_goods rog
        on ord.id=rog.order_id
        left join ma_address ma
        on ord.address_id=ma.address_id
        left join ma_goods gs on gs.goods_id=rog.goods_id
        left join ma_user_info ma_user on gs.userId=ma_user.user_id
        <where>
            1=1
            <if test="userId != null" >
                and  ord.uid = #{userId,jdbcType=INTEGER}
            </if>
            <if test="orderId != null" >
                and ord.id = #{orderId,jdbcType=INTEGER}
            </if>
        </where>
    </select>
  <delete id="deleteByKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from ma_order
    where id = #{id,jdbcType=INTEGER}
  </delete>

  <!--批量删除订单-->
  <delete id="deleteBatch" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from ma_order
    where id in (${orderIds})
  </delete>
  <insert id="insert" parameterType="com.ma.rest.base.model.Order" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into ma_order (id, order_number, uid, 
      pay_price, is_pay, pay_time, 
      is_ship, ship_time, is_receipt, 
      receipt_time, ship_nmber, status, 
      create_time, update_time)
    values (#{id,jdbcType=INTEGER}, #{orderNumber,jdbcType=VARCHAR}, #{uid,jdbcType=INTEGER}, 
      #{payPrice,jdbcType=DECIMAL}, #{isPay,jdbcType=VARCHAR}, #{payTime,jdbcType=TIMESTAMP}, 
      #{isShip,jdbcType=VARCHAR}, #{shipTime,jdbcType=TIMESTAMP}, #{isReceipt,jdbcType=VARCHAR}, 
      #{receiptTime,jdbcType=TIMESTAMP}, #{shipNmber,jdbcType=VARCHAR}, #{status,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=TIMESTAMP}, #{updateTime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.ma.rest.base.model.Order" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into ma_order
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="orderNumber != null" >
        order_number,
      </if>
      <if test="uid != null" >
        uid,
      </if>
      <if test="payPrice != null" >
        pay_price,
      </if>
      <if test="isPay != null" >
        is_pay,
      </if>
      <if test="payTime != null" >
        pay_time,
      </if>
      <if test="isShip != null" >
        is_ship,
      </if>
      <if test="shipTime != null" >
        ship_time,
      </if>
      <if test="isReceipt != null" >
        is_receipt,
      </if>
      <if test="receiptTime != null" >
        receipt_time,
      </if>
      <if test="shipNmber != null" >
        ship_nmber,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="createTime != null" >
        create_time,
      </if>
      <if test="updateTime != null" >
        update_time,
      </if>
        <if test="addressId != null" >
            address_id,
        </if>
        <if test="invoiceInfo != null" >
            invoice_info,
        </if>
        <if test="goodsOtherInfo != null" >
            goods_otherinfo,
        </if>
        <if test="expressStatus != null" >
            express_status,
        </if>
        <if test="sellerUid != null" >
            seller_uid,
        </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="orderNumber != null" >
        #{orderNumber,jdbcType=VARCHAR},
      </if>
      <if test="uid != null" >
        #{uid,jdbcType=INTEGER},
      </if>
      <if test="payPrice != null" >
        #{payPrice,jdbcType=DECIMAL},
      </if>
      <if test="isPay != null" >
        #{isPay,jdbcType=VARCHAR},
      </if>
      <if test="payTime != null" >
        #{payTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isShip != null" >
        #{isShip,jdbcType=VARCHAR},
      </if>
      <if test="shipTime != null" >
        #{shipTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isReceipt != null" >
        #{isReceipt,jdbcType=VARCHAR},
      </if>
      <if test="receiptTime != null" >
        #{receiptTime,jdbcType=TIMESTAMP},
      </if>
      <if test="shipNmber != null" >
        #{shipNmber,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
        <if test="addressId != null" >
            #{addressId,jdbcType=INTEGER},
        </if>
        <if test="invoiceInfo != null" >
            #{invoiceInfo,jdbcType=VARCHAR},
        </if>
        <if test="goodsOtherInfo != null" >
            #{goodsOtherInfo,jdbcType=VARCHAR},
        </if>
        <if test="expressStatus != null" >
            #{expressStatus,jdbcType=VARCHAR},
        </if>
        <if test="sellerUid != null" >
            #{sellerUid,jdbcType=INTEGER},
        </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ma.rest.base.model.Order" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ma_order
    <set >
      <if test="orderNumber != null" >
        order_number = #{orderNumber,jdbcType=VARCHAR},
      </if>
      <if test="uid != null" >
        uid = #{uid,jdbcType=INTEGER},
      </if>
      <if test="payPrice != null" >
        pay_price = #{payPrice,jdbcType=DECIMAL},
      </if>
      <if test="isPay != null" >
        is_pay = #{isPay,jdbcType=VARCHAR},
      </if>
      <if test="payTime != null" >
        pay_time = #{payTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isShip != null" >
        is_ship = #{isShip,jdbcType=VARCHAR},
      </if>
      <if test="shipTime != null" >
        ship_time = #{shipTime,jdbcType=TIMESTAMP},
      </if>
      <if test="isReceipt != null" >
        is_receipt = #{isReceipt,jdbcType=VARCHAR},
      </if>
      <if test="receiptTime != null" >
        receipt_time = #{receiptTime,jdbcType=TIMESTAMP},
      </if>
      <if test="shipNmber != null" >
        ship_nmber = #{shipNmber,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null" >
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null" >
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ma.rest.base.model.Order" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ma_order
    set order_number = #{orderNumber,jdbcType=VARCHAR},
      uid = #{uid,jdbcType=INTEGER},
      pay_price = #{payPrice,jdbcType=DECIMAL},
      is_pay = #{isPay,jdbcType=VARCHAR},
      pay_time = #{payTime,jdbcType=TIMESTAMP},
      is_ship = #{isShip,jdbcType=VARCHAR},
      ship_time = #{shipTime,jdbcType=TIMESTAMP},
      is_receipt = #{isReceipt,jdbcType=VARCHAR},
      receipt_time = #{receiptTime,jdbcType=TIMESTAMP},
      ship_nmber = #{shipNmber,jdbcType=VARCHAR},
      status = #{status,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>

  <select id="queryAllRows" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(1)
    from ma_order
      <where>
          <if test="userId != null" >
              and uid = #{userId,jdbcType=INTEGER}
          </if>
          <if test="status != null" >
              and status = #{status,jdbcType=VARCHAR}
          </if>
      </where>
  </select>

</mapper>